<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Calculator</title>
    <style>
    /* --------------------
     Add your styling here
     -------------------- */
    </style>
</head>
<body>
<div class="calculator">
  <form>
    <input type='text' id='display' placeholder='0' value='' />
  </form>
  <button class='input' name='1' type='button' value='1'> 1 </button>
  <button class='input' name='2' type='button' value='2'> 2 </button>
  <button class='input' name='3' type='button' value='3'> 3 </button>
  <button class='operation' name='add' type='button' value='+'> + </button>
  </br>
  <button class='input' name='4' type='button' value='4'> 4 </button>
  <button class='input' name='5' type='button' value='5'> 5 </button>
  <button class='input' name='6' type='button' value='6'> 6 </button>
  <button class='operation' name='subtract' type='button' value='-'> - </button>
  </br>
  <button class='input' name='7' type='button' value='7'> 7 </button>
  <button class='input' name='8' type='button' value='8'> 8 </button>
  <button class='input' name='9' type='button' value='9'> 9 </button>
  <button class='operation' name='multiply' type='button' value='*'> x </button>
  </br>
  <button class='input' name='0' type='button' value='0'> 0 </button>
  <button class='input' id='decimal' name='decimal' type='button' value='.'> . </button>
  <button class='operation' name='delete' type='button' value=''> del </button>
  <button class='operation' name='divide' type='button' value='/'> / </button>
  </br>
  <button class='operation' name='reset' type='button' value='0'> reset </button>
  <button class='operation' name='equals' type='button' > = </button>
</div>
<script>
  class Calculator {
    constructor() {
      this.inputs = []
      this.operations = {
        '+' : function(a,b) {return a + b},
        '-' : function(a,b) {return a - b},
        '*' : function(a,b) {return a*b},
        '/' : function(a,b) {return b / a}
      }
      this.performOperation = this.performOperation.bind(this)
    }

    addInput(event) {
      if(event.target.name === 'decimal') event.target.disabled = 'disabled'
      display.value += event.target.value
    }

    performOperation(event) {
      const decimal = document.querySelector('#decimal')
      decimal.removeAttribute('disabled')

      if(event.target.name === 'equals') {
        const currDisplay = parseFloat(display.value)
        let currentOperation = null
        const total = this.inputs.reduce((totalValue, el) => {
          if(typeof el !== 'number') {
            currentOperation = this.operations[el]
            return totalValue
          } else {
            return currentOperation(totalValue, el)
          }
        }, currDisplay)
        this.inputs = []
        display.value = total
      } else {
        this.inputs.push(event.target.value, parseFloat(display.value))
        display.value = ''
      }
      console.log(this.inputs)
    }
  }
    const display = document.querySelector('#display')
    const inputs = document.querySelectorAll('.input')
    const operations = document.querySelectorAll('.operation')
    const calculator = new Calculator()
    Array.from(operations).forEach(operation => operation.addEventListener('click', calculator.performOperation))
    Array.from(inputs).forEach(input => input.addEventListener('click', calculator.addInput))
</script>
</body>
</html>

<!----------
layout:
------------------- (main)
|   result box  (form & output)
|
|    1. 2. 3 +  (buttons)
|    4. 5. 6 -  (buttons)
|    7. 8. 9 x  (buttons)
|    =. res  .  (buttons)
|
--------------------
functionality:
clicking on any numerical buttons will add the corresponding number into the output


--------->
